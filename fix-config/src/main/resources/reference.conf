# Default configuration for FIX Engine
# This file provides defaults that can be overridden by application.conf or custom config files

# Network event loop configuration
network {
  # Thread name for the event loop
  name = "fix-event-loop"

  # CPU affinity (-1 = no affinity, 0+ = specific core)
  cpu-affinity = -1

  # Read buffer size per connection (bytes)
  read-buffer-size = 65536

  # Write buffer size per connection (bytes)
  write-buffer-size = 65536

  # Selector timeout in milliseconds
  select-timeout-ms = 100

  # Busy spin mode - uses selectNow() instead of select() for lower latency
  # Warning: This will consume 100% CPU on the event loop thread
  busy-spin-mode = false
}

# Persistence store configuration
persistence {
  # Enable/disable persistence
  enabled = true

  # Store type: memory-mapped, chronicle, none
  store-type = "memory-mapped"

  # Base directory for persistence files
  base-path = "./fix-logs"

  # Maximum file size per stream (supports units: KB, MB, GB)
  max-file-size = 256MB

  # Force sync to disk on each write
  sync-on-write = false

  # Maximum number of concurrent streams
  max-streams = 100
}

fix-engine {

  # Session defaults (can be overridden per session)
  session-defaults {
    begin-string = "FIX.4.4"
    heartbeat-interval = 30
    reset-on-logon = false
    reset-on-logout = false
    reset-on-disconnect = false
    reconnect-interval = 5
    max-reconnect-attempts = -1
    time-zone = "UTC"
    reset-on-eod = false
    log-messages = true
    use-pooled-messages = false
    message-pool-size = 64
    max-message-length = 4096
    max-tag-number = 1000
    start-time = ""
    end-time = ""
    eod-time = ""
  }

  # Sessions list (empty by default, must be provided in application config)
  sessions = []
}
