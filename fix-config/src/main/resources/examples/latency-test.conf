# Latency Testing Configuration
# Optimized for minimal latency in testing scenarios

include "reference.conf"

fix-engine {

  network {
    name = "latency-test-loop"
    # Pin to a specific CPU core for consistent performance
    cpu-affinity = 3
    # Larger buffers to reduce syscalls
    read-buffer-size = 262144
    write-buffer-size = 262144
    # Shorter select timeout for faster response
    select-timeout-ms = 1
  }

  persistence {
    # Disable persistence for latency testing
    enabled = false
    store-type = "none"
  }

  sessions = [
    {
      session-name = "LATENCY_TEST"
      role = "initiator"
      sender-comp-id = "LATENCY_CLIENT"
      target-comp-id = "LATENCY_SERVER"
      begin-string = "FIX.4.4"
      host = "localhost"
      port = 9876

      heartbeat-interval = 30
      reset-on-logon = true

      # Disable message logging for latency testing
      log-messages = false

      # Maximum performance settings
      message-pool-size = 1024
      max-message-length = 256
      max-tag-number = 100

      reconnect-interval = 1
      max-reconnect-attempts = 5
    }
  ]
}
